{
    "$schema": "http://json-schema.org/schema#",
    "type": "object",
    "properties": {
        "agents": {
            "type": "object",
            "properties": {
                "additionalLabels": {
                    "type": "object"
                },
                "affinity": {
                    "type": "object"
                },
                "containers": {
                    "type": "object",
                    "properties": {
                        "agent": {
                            "type": "object",
                            "properties": {
                                "env": {
                                    "type": "array"
                                },
                                "healthPort": {
                                    "type": "integer"
                                },
                                "livenessProbe": {
                                    "type": "object",
                                    "properties": {
                                        "failureThreshold": {
                                            "type": "integer"
                                        },
                                        "initialDelaySeconds": {
                                            "type": "integer"
                                        },
                                        "periodSeconds": {
                                            "type": "integer"
                                        },
                                        "successThreshold": {
                                            "type": "integer"
                                        },
                                        "timeoutSeconds": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "logLevel": {
                                    "type": "null"
                                },
                                "ports": {
                                    "type": "array"
                                },
                                "readinessProbe": {
                                    "type": "object",
                                    "properties": {
                                        "failureThreshold": {
                                            "type": "integer"
                                        },
                                        "initialDelaySeconds": {
                                            "type": "integer"
                                        },
                                        "periodSeconds": {
                                            "type": "integer"
                                        },
                                        "successThreshold": {
                                            "type": "integer"
                                        },
                                        "timeoutSeconds": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "resources": {
                                    "type": "object"
                                },
                                "securityContext": {
                                    "type": "object"
                                }
                            }
                        },
                        "initContainers": {
                            "type": "object",
                            "properties": {
                                "resources": {
                                    "type": "object"
                                }
                            }
                        },
                        "processAgent": {
                            "type": "object",
                            "properties": {
                                "env": {
                                    "type": "array"
                                },
                                "logLevel": {
                                    "type": "null"
                                },
                                "ports": {
                                    "type": "array"
                                },
                                "resources": {
                                    "type": "object"
                                },
                                "securityContext": {
                                    "type": "object"
                                }
                            }
                        },
                        "securityAgent": {
                            "type": "object",
                            "properties": {
                                "env": {
                                    "type": "null"
                                },
                                "logLevel": {
                                    "type": "null"
                                },
                                "ports": {
                                    "type": "array"
                                },
                                "resources": {
                                    "type": "object"
                                }
                            }
                        },
                        "systemProbe": {
                            "type": "object",
                            "properties": {
                                "env": {
                                    "type": "array"
                                },
                                "logLevel": {
                                    "type": "null"
                                },
                                "ports": {
                                    "type": "array"
                                },
                                "resources": {
                                    "type": "object"
                                },
                                "securityContext": {
                                    "type": "object",
                                    "properties": {
                                        "capabilities": {
                                            "type": "object",
                                            "properties": {
                                                "add": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "privileged": {
                                            "type": "boolean"
                                        }
                                    }
                                }
                            }
                        },
                        "traceAgent": {
                            "type": "object",
                            "properties": {
                                "env": {
                                    "type": "null"
                                },
                                "livenessProbe": {
                                    "type": "object",
                                    "properties": {
                                        "initialDelaySeconds": {
                                            "type": "integer"
                                        },
                                        "periodSeconds": {
                                            "type": "integer"
                                        },
                                        "timeoutSeconds": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "logLevel": {
                                    "type": "null"
                                },
                                "ports": {
                                    "type": "array"
                                },
                                "resources": {
                                    "type": "object"
                                },
                                "securityContext": {
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "customAgentConfig": {
                    "type": "object"
                },
                "dnsConfig": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "doNotCheckTag": {
                            "type": "null"
                        },
                        "name": {
                            "type": "string"
                        },
                        "pullPolicy": {
                            "type": "string"
                        },
                        "pullSecrets": {
                            "type": "array"
                        },
                        "repository": {
                            "type": "null"
                        },
                        "tag": {
                            "type": "string"
                        }
                    }
                },
                "networkPolicy": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        }
                    }
                },
                "nodeSelector": {
                    "type": "object"
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podLabels": {
                    "type": "object"
                },
                "podSecurity": {
                    "type": "object",
                    "properties": {
                        "apparmor": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "apparmorProfiles": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "capabilities": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "podSecurityPolicy": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "privileged": {
                            "type": "boolean"
                        },
                        "seLinuxContext": {
                            "type": "object",
                            "properties": {
                                "rule": {
                                    "type": "string"
                                },
                                "seLinuxOptions": {
                                    "type": "object",
                                    "properties": {
                                        "level": {
                                            "type": "string"
                                        },
                                        "role": {
                                            "type": "string"
                                        },
                                        "type": {
                                            "type": "string"
                                        },
                                        "user": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "seccompProfiles": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        },
                        "securityContextConstraints": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "volumes": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "priorityClassName": {
                    "type": "null"
                },
                "rbac": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        },
                        "serviceAccountName": {
                            "type": "string"
                        }
                    }
                },
                "tolerations": {
                    "type": "array"
                },
                "updateStrategy": {
                    "type": "object",
                    "properties": {
                        "rollingUpdate": {
                            "type": "object",
                            "properties": {
                                "maxUnavailable": {
                                    "type": "string"
                                }
                            }
                        },
                        "type": {
                            "type": "string"
                        }
                    }
                },
                "useConfigMap": {
                    "type": "null"
                },
                "useHostNetwork": {
                    "type": "boolean"
                },
                "volumeMounts": {
                    "type": "array"
                },
                "volumes": {
                    "type": "array"
                }
            }
        },
        "clusterAgent": {
            "type": "object",
            "properties": {
                "additionalLabels": {
                    "type": "object"
                },
                "admissionController": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "mutateUnlabelled": {
                            "type": "boolean"
                        }
                    }
                },
                "affinity": {
                    "type": "object"
                },
                "command": {
                    "type": "array"
                },
                "confd": {
                    "type": "object"
                },
                "containers": {
                    "type": "object",
                    "properties": {
                        "clusterAgent": {
                            "type": "object",
                            "properties": {
                                "securityContext": {
                                    "type": "object"
                                }
                            }
                        }
                    }
                },
                "createPodDisruptionBudget": {
                    "type": "boolean"
                },
                "datadog_cluster_yaml": {
                    "type": "object"
                },
                "dnsConfig": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "env": {
                    "type": "array"
                },
                "healthPort": {
                    "type": "integer"
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "pullPolicy": {
                            "type": "string"
                        },
                        "pullSecrets": {
                            "type": "array"
                        },
                        "repository": {
                            "type": "null"
                        },
                        "tag": {
                            "type": "string"
                        }
                    }
                },
                "livenessProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "initialDelaySeconds": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        },
                        "successThreshold": {
                            "type": "integer"
                        },
                        "timeoutSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "metricsProvider": {
                    "type": "object",
                    "properties": {
                        "aggregator": {
                            "type": "string"
                        },
                        "createReaderRbac": {
                            "type": "boolean"
                        },
                        "enabled": {
                            "type": "boolean"
                        },
                        "endpoint": {
                            "type": "null"
                        },
                        "service": {
                            "type": "object",
                            "properties": {
                                "port": {
                                    "type": "integer"
                                },
                                "type": {
                                    "type": "string"
                                }
                            }
                        },
                        "useDatadogMetrics": {
                            "type": "boolean"
                        },
                        "wpaController": {
                            "type": "boolean"
                        }
                    }
                },
                "networkPolicy": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        }
                    }
                },
                "nodeSelector": {
                    "type": "object"
                },
                "podAnnotations": {
                    "type": "object"
                },
                "podSecurity": {
                    "type": "object",
                    "properties": {
                        "podSecurityPolicy": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "securityContextConstraints": {
                            "type": "object",
                            "properties": {
                                "create": {
                                    "type": "boolean"
                                }
                            }
                        }
                    }
                },
                "priorityClassName": {
                    "type": "null"
                },
                "rbac": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        },
                        "serviceAccountName": {
                            "type": "string"
                        }
                    }
                },
                "readinessProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "initialDelaySeconds": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        },
                        "successThreshold": {
                            "type": "integer"
                        },
                        "timeoutSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "replicas": {
                    "type": "integer"
                },
                "resources": {
                    "type": "object"
                },
                "securityContext": {
                    "type": "object"
                },
                "strategy": {
                    "type": "object",
                    "properties": {
                        "rollingUpdate": {
                            "type": "object",
                            "properties": {
                                "maxSurge": {
                                    "type": "integer"
                                },
                                "maxUnavailable": {
                                    "type": "integer"
                                }
                            }
                        },
                        "type": {
                            "type": "string"
                        }
                    }
                },
                "token": {
                    "type": "string"
                },
                "tokenExistingSecret": {
                    "type": "string"
                },
                "useHostNetwork": {
                    "type": "null"
                },
                "volumeMounts": {
                    "type": "array"
                },
                "volumes": {
                    "type": "array"
                }
            }
        },
        "clusterChecksRunner": {
            "type": "object",
            "properties": {
                "additionalLabels": {
                    "type": "object"
                },
                "affinity": {
                    "type": "object"
                },
                "createPodDisruptionBudget": {
                    "type": "boolean"
                },
                "dnsConfig": {
                    "type": "object"
                },
                "enabled": {
                    "type": "boolean"
                },
                "env": {
                    "type": "array"
                },
                "healthPort": {
                    "type": "integer"
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "name": {
                            "type": "string"
                        },
                        "pullPolicy": {
                            "type": "string"
                        },
                        "pullSecrets": {
                            "type": "array"
                        },
                        "repository": {
                            "type": "null"
                        },
                        "tag": {
                            "type": "string"
                        }
                    }
                },
                "livenessProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "initialDelaySeconds": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        },
                        "successThreshold": {
                            "type": "integer"
                        },
                        "timeoutSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "networkPolicy": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        }
                    }
                },
                "nodeSelector": {
                    "type": "object"
                },
                "podAnnotations": {
                    "type": "object"
                },
                "ports": {
                    "type": "array"
                },
                "priorityClassName": {
                    "type": "null"
                },
                "rbac": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        },
                        "dedicated": {
                            "type": "boolean"
                        },
                        "serviceAccountAnnotations": {
                            "type": "object"
                        },
                        "serviceAccountName": {
                            "type": "string"
                        }
                    }
                },
                "readinessProbe": {
                    "type": "object",
                    "properties": {
                        "failureThreshold": {
                            "type": "integer"
                        },
                        "initialDelaySeconds": {
                            "type": "integer"
                        },
                        "periodSeconds": {
                            "type": "integer"
                        },
                        "successThreshold": {
                            "type": "integer"
                        },
                        "timeoutSeconds": {
                            "type": "integer"
                        }
                    }
                },
                "replicas": {
                    "type": "integer"
                },
                "resources": {
                    "type": "object"
                },
                "securityContext": {
                    "type": "object"
                },
                "strategy": {
                    "type": "object",
                    "properties": {
                        "rollingUpdate": {
                            "type": "object",
                            "properties": {
                                "maxSurge": {
                                    "type": "integer"
                                },
                                "maxUnavailable": {
                                    "type": "integer"
                                }
                            }
                        },
                        "type": {
                            "type": "string"
                        }
                    }
                },
                "tolerations": {
                    "type": "array"
                },
                "volumeMounts": {
                    "type": "array"
                },
                "volumes": {
                    "type": "array"
                }
            }
        },
        "datadog": {
            "type": "object",
            "properties": {
                "apiKey": {
                    "type": "string"
                },
                "apiKeyExistingSecret": {
                    "type": "null"
                },
                "apm": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "hostSocketPath": {
                            "type": "string"
                        },
                        "port": {
                            "type": "integer"
                        },
                        "socketPath": {
                            "type": "string"
                        },
                        "useSocketVolume": {
                            "type": "boolean"
                        }
                    }
                },
                "appKey": {
                    "type": "null"
                },
                "appKeyExistingSecret": {
                    "type": "null"
                },
                "checksd": {
                    "type": "object"
                },
                "clusterChecks": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        }
                    }
                },
                "clusterName": {
                    "type": "null"
                },
                "collectEvents": {
                    "type": "boolean"
                },
                "confd": {
                    "type": "object"
                },
                "criSocketPath": {
                    "type": "null"
                },
                "dd_url": {
                    "type": "null"
                },
                "dockerSocketPath": {
                    "type": "null"
                },
                "dogstatsd": {
                    "type": "object",
                    "properties": {
                        "hostSocketPath": {
                            "type": "string"
                        },
                        "nonLocalTraffic": {
                            "type": "boolean"
                        },
                        "originDetection": {
                            "type": "boolean"
                        },
                        "port": {
                            "type": "integer"
                        },
                        "socketPath": {
                            "type": "string"
                        },
                        "tagCardinality": {
                            "type": "string"
                        },
                        "tags": {
                            "type": "array"
                        },
                        "useHostPID": {
                            "type": "boolean"
                        },
                        "useHostPort": {
                            "type": "boolean"
                        },
                        "useSocketVolume": {
                            "type": "boolean"
                        }
                    }
                },
                "env": {
                    "type": "array"
                },
                "envFrom": {
                    "type": "array"
                },
                "hostVolumeMountPropagation": {
                    "type": "string"
                },
                "kubeStateMetricsEnabled": {
                    "type": "boolean"
                },
                "kubeStateMetricsNetworkPolicy": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        }
                    }
                },
                "kubelet": {
                    "type": "object",
                    "properties": {
                        "host": {
                            "type": "object",
                            "properties": {
                                "valueFrom": {
                                    "type": "object",
                                    "properties": {
                                        "fieldRef": {
                                            "type": "object",
                                            "properties": {
                                                "fieldPath": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "tlsVerify": {
                            "type": "null"
                        }
                    }
                },
                "leaderElection": {
                    "type": "boolean"
                },
                "leaderLeaseDuration": {
                    "type": "null"
                },
                "logLevel": {
                    "type": "string"
                },
                "logs": {
                    "type": "object",
                    "properties": {
                        "containerCollectAll": {
                            "type": "boolean"
                        },
                        "containerCollectUsingFiles": {
                            "type": "boolean"
                        },
                        "enabled": {
                            "type": "boolean"
                        }
                    }
                },
                "networkMonitoring": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        }
                    }
                },
                "networkPolicy": {
                    "type": "object",
                    "properties": {
                        "cilium": {
                            "type": "object",
                            "properties": {
                                "dnsSelector": {
                                    "type": "object",
                                    "properties": {
                                        "toEndpoints": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "matchLabels": {
                                                        "type": "object",
                                                        "properties": {
                                                            "k8s:io.kubernetes.pod.namespace": {
                                                                "type": "string"
                                                            },
                                                            "k8s:k8s-app": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        },
                        "create": {
                            "type": "boolean"
                        },
                        "flavor": {
                            "type": "string"
                        }
                    }
                },
                "nodeLabelsAsTags": {
                    "type": "object"
                },
                "orchestratorExplorer": {
                    "type": "object",
                    "properties": {
                        "container_scrubbing": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "enabled": {
                            "type": "boolean"
                        }
                    }
                },
                "podAnnotationsAsTags": {
                    "type": "object"
                },
                "podLabelsAsTags": {
                    "type": "object"
                },
                "processAgent": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "processCollection": {
                            "type": "boolean"
                        }
                    }
                },
                "prometheusScrape": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "serviceEndpoints": {
                            "type": "boolean"
                        }
                    }
                },
                "securityAgent": {
                    "type": "object",
                    "properties": {
                        "compliance": {
                            "type": "object",
                            "properties": {
                                "checkInterval": {
                                    "type": "string"
                                },
                                "configMap": {
                                    "type": "null"
                                },
                                "enabled": {
                                    "type": "boolean"
                                }
                            }
                        },
                        "runtime": {
                            "type": "object",
                            "properties": {
                                "enabled": {
                                    "type": "boolean"
                                },
                                "policies": {
                                    "type": "object",
                                    "properties": {
                                        "configMap": {
                                            "type": "null"
                                        }
                                    }
                                },
                                "syscallMonitor": {
                                    "type": "object",
                                    "properties": {
                                        "enabled": {
                                            "type": "boolean"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "securityContext": {
                    "type": "object"
                },
                "serviceTopology": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean"
                        },
                        "serviceName": {
                            "type": "string"
                        }
                    }
                },
                "site": {
                    "type": "null"
                },
                "systemProbe": {
                    "type": "object",
                    "properties": {
                        "apparmor": {
                            "type": "string"
                        },
                        "bpfDebug": {
                            "type": "boolean"
                        },
                        "collectDNSStats": {
                            "type": "boolean"
                        },
                        "conntrackMaxStateSize": {
                            "type": "integer"
                        },
                        "debugPort": {
                            "type": "integer"
                        },
                        "enableConntrack": {
                            "type": "boolean"
                        },
                        "enableOOMKill": {
                            "type": "boolean"
                        },
                        "enableTCPQueueLength": {
                            "type": "boolean"
                        },
                        "maxTrackedConnections": {
                            "type": "integer"
                        },
                        "seccomp": {
                            "type": "string"
                        },
                        "seccompRoot": {
                            "type": "string"
                        }
                    }
                },
                "tags": {
                    "type": "array"
                }
            }
        },
        "datadog-crds": {
            "type": "object",
            "properties": {
                "crds": {
                    "type": "object",
                    "properties": {
                        "datadogMetrics": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
        "existingClusterAgent": {
            "type": "object",
            "properties": {
                "clusterchecksEnabled": {
                    "type": "boolean"
                },
                "join": {
                    "type": "boolean"
                },
                "serviceName": {
                    "type": "null"
                },
                "tokenSecretName": {
                    "type": "null"
                }
            }
        },
        "fullnameOverride": {
            "type": "null"
        },
        "kube-state-metrics": {
            "type": "object",
            "properties": {
                "nodeSelector": {
                    "type": "object",
                    "properties": {
                        "kubernetes.io/os": {
                            "type": "string"
                        }
                    }
                },
                "rbac": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        }
                    }
                },
                "resources": {
                    "type": "object"
                },
                "serviceAccount": {
                    "type": "object",
                    "properties": {
                        "create": {
                            "type": "boolean"
                        },
                        "name": {
                            "type": "null"
                        }
                    }
                }
            }
        },
        "nameOverride": {
            "type": "null"
        },
        "providers": {
            "type": "object",
            "properties": {
                "gke": {
                    "type": "object",
                    "properties": {
                        "autopilot": {
                            "type": "boolean"
                        }
                    }
                }
            }
        },
        "registry": {
            "type": "string"
        },
        "targetSystem": {
            "type": "string"
        }
    }
}
